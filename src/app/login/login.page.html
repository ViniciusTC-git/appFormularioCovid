
<mat-card *ngIf="!hideCard['login']" class="card login">
  <mat-card-header class="center">
    <mat-card-title>
      <mat-icon style="font-size: 35px;">assignment_ind</mat-icon>
    </mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <form [formGroup]="userLoginForm"  class="form center">
      <mat-form-field class="full-width-input">
          <input matInput placeholder="Email" type="email" formControlName="email"  required>
          <mat-error *ngIf="userLoginForm.get('email').invalid">
            {{validationMessage.getErrorMessage('email',userLoginForm)}}
          </mat-error>
      </mat-form-field>
      <mat-form-field class="full-width-input">
        <input matInput 
          placeholder="Senha" 
          [type]="hidePassword ? 'password' : 'text'" 
          autocomplete="on" 
          formControlName="senha" 
        required>
        <button mat-icon-button matSuffix 
          (click)="hidePassword = !hidePassword"
          [attr.aria-label]="'Esconder Senha'" 
          [attr.aria-pressed]="hidePassword">
          <mat-icon>{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
        </button>
        <mat-error *ngIf="userLoginForm.get('senha').invalid">
          {{validationMessage.getErrorMessage('senha',userLoginForm)}}
        </mat-error>
      </mat-form-field>
      <mat-divider></mat-divider>
    </form>
  </mat-card-content>
  <mat-card-actions>
    <button [disabled]="userLoginForm.invalid" (click)="onLogin()" mat-raised-button>
      <mat-icon>login</mat-icon> 
    </button>  
    <button (click)="onOptions()" mat-raised-button> 
      <mat-icon>manage_accounts</mat-icon> 
    </button>  
  </mat-card-actions>
</mat-card>

<mat-card *ngIf="!hideCard['cadastro']" class="card cadastro">
  <mat-card-header class="center">
    <mat-card-title>
      <mat-icon style="font-size: 35px;">person_add_alt_1</mat-icon>
    </mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <form [formGroup]="userCadastroForm" class="form center">
      <mat-form-field class="full-width-input">
        <input matInput placeholder="Email" type="email" formControlName="email"  required>
        <mat-error *ngIf="userCadastroForm.get('email').invalid">
          {{validationMessage.getErrorMessage('email',userCadastroForm)}}
        </mat-error>
      </mat-form-field>
      <mat-form-field class="full-width-input">
        <input matInput placeholder="Nome" type="text" formControlName="nome" required>
        <mat-error *ngIf="userCadastroForm.get('nome').invalid">
          {{validationMessage.getErrorMessage('nome',userCadastroForm)}}
        </mat-error>
      </mat-form-field>
      <mat-form-field class="full-width-input" appearance="fill">
        <mat-label>Setor</mat-label>
        <mat-select formControlName="setor" required>
          <mat-option>--</mat-option>
          <mat-option *ngFor="let setor of setores.nomes" [value]="setor">
            {{setor}}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="userCadastroForm.get('setor').invalid">
          {{validationMessage.getErrorMessage('setor',userCadastroForm)}}
        </mat-error>
      </mat-form-field>
      <mat-form-field class="full-width-input">
        <input matInput 
            placeholder="Senha" 
            [type]="hidePassword ? 'password' : 'text'" 
            autocomplete="on" 
            formControlName="senha" 
        required>
        <button mat-icon-button matSuffix 
            (click)="hidePassword = !hidePassword"
            [attr.aria-label]="'Esconder Senha'" 
            [attr.aria-pressed]="hidePassword">
            <mat-icon>{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
        </button>
        <mat-error *ngIf="userCadastroForm.get('senha').invalid">
          {{validationMessage.getErrorMessage('senha',userCadastroForm)}}
        </mat-error>
      </mat-form-field>
      <mat-form-field class="full-width-input">
        <input matInput 
            placeholder="Confirmar Senha" 
            [type]="hidePasswordConfirm ? 'password' : 'text'" 
            autocomplete="on" 
            formControlName="confirmSenha"
          required>
        <button mat-icon-button matSuffix 
            (click)="hidePasswordConfirm = !hidePasswordConfirm " 
            [attr.aria-label]="'Esconder Senha'" 
            [attr.aria-pressed]="hidePasswordConfirm">
            <mat-icon>{{hidePasswordConfirm ? 'visibility_off' : 'visibility'}}</mat-icon>
        </button>
        <mat-error *ngIf="userCadastroForm.get('confirmSenha').invalid">
          {{validationMessage.getErrorMessage('confirmSenha',userCadastroForm)}}
        </mat-error>
      </mat-form-field>
    </form>
  </mat-card-content>
  <mat-card-actions>
    <button [disabled]="userCadastroForm.invalid" (click)="onCadastro()" mat-raised-button>Cadastrar</button>
    <button (click)="onChangeCard('login')" mat-raised-button>Voltar</button>
  </mat-card-actions>
</mat-card>

<mat-card *ngIf="!hideCard['redefinir']" class="card redefinir">
  <mat-card-header class="center">
    <mat-card-title>
      <mat-icon style="font-size: 35px;">vpn_key</mat-icon>
    </mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <form [formGroup]="userResetPasswordForm" class="form center">
      <mat-form-field class="full-width-input">
          <input matInput placeholder="Email" type="email" formControlName="email"  required>
          <mat-error *ngIf="userResetPasswordForm.get('email').invalid">
            {{validationMessage.getErrorMessage('email', userResetPasswordForm)}}
          </mat-error>
      </mat-form-field>
      <mat-divider></mat-divider>
    </form>
  </mat-card-content>
  <mat-card-actions>
    <button [disabled]="userResetPasswordForm.invalid" (click)="onResetSenha()" mat-raised-button>Enviar</button>  
    <button (click)="onChangeCard('login')" mat-raised-button>Voltar</button>
  </mat-card-actions>
</mat-card>


