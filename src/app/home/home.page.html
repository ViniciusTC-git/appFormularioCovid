<div *ngIf="isSubmitToday">
    <mat-card class="card preenchido">
        <h2>
            Formulario {{dateToday}} Preenchido 
            <mat-icon> add_task</mat-icon>
        </h2>
    </mat-card>
    <div *ngIf="usuario.formularios.length !== 0">
        <mat-accordion *ngFor="let form of usuario.formularios; let i = index"  multi>
            <mat-expansion-panel class="panel" #panel>
                <mat-expansion-panel-header>
                    <mat-panel-title>
                        Formulario {{form.data | date: 'dd/MM/yyyy'}}
                    </mat-panel-title>
                    <mat-panel-description>
                        Clique para ver <mat-icon>history</mat-icon>
                    </mat-panel-description>
                </mat-expansion-panel-header>
                <mat-card class="card sintomas-preenchidos">
                    <mat-card-header>
                        <mat-icon>coronavirus</mat-icon>
                        <mat-card-title>Sintomas Apresentados:</mat-card-title>
                        <mat-card-subtitle></mat-card-subtitle>
                    </mat-card-header>
                    <mat-list>
                        <span *ngFor="let sintoma of sintomas">
                            <mat-list-item *ngIf="form[sintoma.tipo]">  
                                <span>{{sintoma.descricao}} <mat-icon class="danger-icon">error</mat-icon></span>
                            </mat-list-item>
                        </span>
                    </mat-list>
                    <mat-list>
                        <mat-list-item *ngIf="form.outro">  
                            <div class="text">{{form.outro}}</div> <mat-icon class="danger-icon">error</mat-icon>
                        </mat-list-item>
                    </mat-list>
                </mat-card>
            </mat-expansion-panel>
        </mat-accordion>
    </div>
</div>
<mat-card *ngIf="!isSubmitToday" class="card formulario">
    <mat-card-header>
        <mat-icon>rate_review</mat-icon>
        <mat-card-title>Formulario</mat-card-title>
    </mat-card-header>
    <mat-card-content>
        <form [formGroup]="formularioForm">
            <mat-list *ngFor="let sintoma of sintomas">
                <mat-list-item>  
                    <mat-checkbox [formControlName]="sintoma.tipo" color="primary">
                        {{sintoma.descricao}}
                    </mat-checkbox> 
                </mat-list-item>
            </mat-list>
            <mat-form-field style="width: 100%;">
                <mat-label>Outro ?</mat-label>
                <textarea formControlName="outro" matInput></textarea>
                <mat-error *ngIf="formularioForm.get('outro').invalid">
                    {{validationMessage.getErrorMessage('outro',formularioForm)}}
                </mat-error>
            </mat-form-field>
        </form>
    </mat-card-content>
    <mat-card-actions>
        <button [disabled]="formularioForm.invalid" (click)="onSubmit()"  mat-raised-button>
            <mat-icon>done</mat-icon>
        </button>
    </mat-card-actions>
</mat-card>





